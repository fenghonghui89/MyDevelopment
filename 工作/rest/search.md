Tpages SNS REST 搜索服务接口
===============================================================================

### 找帖子
```
GET /find
```

#### 前置条件
无

#### 接收参数
- `s`：要找的文字
- `by`：由哪个用户发的内容，用户ID或昵称
- `p`：哪个地点的内容，地点ID
- `c`：在哪个地点或坐标附近，逗号分隔经纬度字符串
- `t`：帖子类型ID
- `o`：排序

###### 数据库
- `users`、`places`、`comments`、`posts`表，及相关子表；

###### 结果缓存
- 所有未登录用户都使用同一个缓存列表，该缓存使用`cache_ttl.public`。该公开列表使用同一套参数。该缓存键值为：`get_find_public_{s}_{t}_{by}_{p}_{c}_{o}`；
- 对于已登录用户，则每个用户独占一个缓存，该缓存使用`cache_ttl.private`。该缓存键值为：`get_find_{u:user_id}_{s}_{t}_{by}_{p}_{c}_{o}`；

#### 返回
如果成功，则返回：`HTTP 200`。相应内容的分类列表JSON，固定返回前`5`条。
```json
[
  {
    "id": 1,                          // 整数，帖子ID
    "site": 1,                        // 整数，帖子所在站点ID，默认为当前站点
    "host": 1,                        // 整数，所属主体ID，可没有
    "type": "在相应语言中的帖子类别名称",
    "user": "发帖人昵称",
    "emote": "在相应语言中的帖子心情",    // 可没有
    "url": "帖子的URL",
    "title": "标题",
    "num_likes": 123,                 // 整数，点赞总数
    "num_shares": 123,                // 整数，分享总数
    "num_comments": 123,              // 整数，评论总数
    "pictures": "图片1URL"
  },
  {
    // ...........
  }
]
```



### 找指定内容
```
GET /find/{内容类别}
```
暂时只做`posts`及`users`

#### 前置条件
无

#### 接收参数
- `{内容类别}`："places"、"posts"、"comments"、"users"
- `s`：要找的文字
- `by`：由哪个用户发的内容，用户ID或昵称
- `p`：哪个地点的内容，地点ID
- `c`：在哪个地点或坐标附近，逗号分隔经纬度字符串
- `t`：帖子类型ID
- `o`：排序
- `page`：整数，第几页
- `per_page`：整数，每页返回几条记录

###### 数据库
- `users`、`places`、`comments`、`posts`表，及相关子表；

###### 结果缓存
- 所有未登录用户都使用同一个缓存列表，该缓存使用`cache_ttl.public`。该公开列表使用同一套参数。
  该缓存键值为：`get_find_public_{内容类别}_{s}_{t}_{by}_{p}_{c}_{o}`；
- 对于已登录用户，则每个用户独占一个缓存，该缓存使用`cache_ttl.private`。
  该缓存键值为：`get_find_{u:user_id}_{内容类别}_{s}_{t}_{by}_{p}_{c}_{o}`；

#### 返回
`HTTP 200`。相应内容的分页列表JSON。
```json
{
  "total": 50,
  "per_page": 15,
  "current_page": 1,
  "last_page": 4,
  "next_page_url": "下一页的URL，可为NULL",
  "prev_page_url": "上一页的URL，可为NULL",
  "from": 1,
  "to": 15,
  "data":[
    {
      // 相应信息1
    },
    {
      // 相应信息2
    },
    {
      // ...........
    }
  ],
}
```
